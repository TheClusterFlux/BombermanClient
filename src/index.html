<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bomberman - Lobby Browser</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div id="app">
    <!-- Connection Screen -->
    <div id="connection-screen" class="screen active">
      <div class="container">
        <h1>ðŸ’£ BOMBERMAN</h1>
        <div class="form-group">
          <label for="username-input">Enter Your Name:</label>
          <input type="text" id="username-input" placeholder="Player" maxlength="20">
        </div>
        <button id="connect-btn" class="btn btn-primary">Connect</button>
        <div id="connection-status"></div>
      </div>
    </div>

    <!-- Lobby Browser Screen -->
    <div id="lobby-browser-screen" class="screen">
      <div class="container">
        <div class="header">
          <h1>ðŸ’£ BOMBERMAN</h1>
          <div class="user-info">
            <span id="current-username"></span>
          </div>
        </div>
        
        <div class="actions">
          <button id="create-lobby-btn" class="btn btn-primary">Create New Game</button>
          <button id="refresh-lobbies-btn" class="btn btn-secondary">Refresh</button>
        </div>
        
        <div id="lobby-list" class="lobby-list">
          <p class="empty-message">No lobbies available. Create one!</p>
        </div>
      </div>
    </div>

    <!-- Create Lobby Modal -->
    <div id="create-lobby-modal" class="modal">
      <div class="modal-content">
        <h2>Create New Game</h2>
        <div class="form-group">
          <label for="lobby-name-input">Game Name:</label>
          <input type="text" id="lobby-name-input" placeholder="My Game" maxlength="30">
        </div>
        <div class="form-group">
          <label for="map-select">Select Map:</label>
          <select id="map-select"></select>
        </div>
        <div class="modal-actions">
          <button id="confirm-create-btn" class="btn btn-primary">Create</button>
          <button id="cancel-create-btn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Lobby Room Screen -->
    <div id="lobby-room-screen" class="screen">
      <div class="container">
        <div class="header">
          <h2 id="lobby-room-name">Game Lobby</h2>
          <button id="leave-lobby-btn" class="btn btn-secondary">Leave</button>
        </div>
        
        <div class="lobby-room-content">
          <div class="players-section">
            <h3>Players (<span id="player-count">0</span>/4)</h3>
            <div class="ready-status">
              <span id="ready-count">0</span> of <span id="total-count">0</span> ready
            </div>
            <div id="players-list" class="players-list"></div>
          </div>
          
          <!-- Host Settings Panel -->
          <div id="host-settings" class="settings-panel" style="display: none;">
            <h3>Game Settings</h3>
            
            <div class="setting-group">
              <label for="lobby-map-select">Map:</label>
              <select id="lobby-map-select"></select>
            </div>
            
            <div class="setting-group">
              <label for="setting-speed">Player Speed:</label>
              <input type="range" id="setting-speed" min="1" max="8" step="0.5" value="3">
              <span id="setting-speed-value">3</span>
            </div>
            
            <div class="setting-group">
              <label for="setting-bombs">Starting Bombs:</label>
              <input type="range" id="setting-bombs" min="1" max="5" step="1" value="1">
              <span id="setting-bombs-value">1</span>
            </div>
            
            <div class="setting-group">
              <label for="setting-range">Explosion Range:</label>
              <input type="range" id="setting-range" min="1" max="6" step="1" value="2">
              <span id="setting-range-value">2</span>
            </div>
            
            <div class="setting-group">
              <label for="setting-timer">Bomb Timer:</label>
              <input type="range" id="setting-timer" min="1" max="5" step="0.5" value="3">
              <span id="setting-timer-value">3s</span>
            </div>
            
            <div class="setting-group">
              <label for="setting-upgrades">Upgrade Spawn Rate:</label>
              <input type="range" id="setting-upgrades" min="0" max="100" step="10" value="30">
              <span id="setting-upgrades-value">30%</span>
            </div>
            
            <button id="reset-settings-btn" class="btn btn-secondary">Reset to Defaults</button>
          </div>
          
          <!-- Current Settings Display (for non-hosts) -->
          <div id="settings-display" class="settings-display" style="display: none;">
            <h4>Game Settings</h4>
            <div id="current-settings-info"></div>
          </div>
          
          <div class="lobby-controls">
            <button id="ready-btn" class="btn btn-primary">Ready</button>
            <button id="start-game-btn" class="btn btn-success" style="display: none;">Start Game</button>
            <p class="lobby-hint" id="lobby-hint">Waiting for players to ready up...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
      <div class="game-container">
        <div class="game-header">
          <h2>ðŸ’£ BOMBERMAN</h2>
          <div id="game-status"></div>
        </div>
        
        <div class="game-wrapper">
          <canvas id="game-canvas"></canvas>
        </div>
        
        <div class="game-hud">
          <div id="player-stats" class="player-stats"></div>
          <div class="controls-info">
            <p><strong>Controls:</strong> Arrow Keys / WASD = Move | Space = Bomb</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Over Screen -->
    <div id="game-over-screen" class="screen">
      <div class="container">
        <h1>Game Over!</h1>
        <div id="game-result"></div>
        <div class="game-over-buttons">
          <button id="return-to-lobby-btn" class="btn btn-primary">Return to Lobby</button>
          <button id="return-to-browser-btn" class="btn btn-secondary">Leave & Browse Games</button>
        </div>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>
  <script src="js/prediction.js"></script>
  <script src="js/renderer.js"></script>
  <script src="js/input.js"></script>
  <script src="js/ui.js"></script>
</body>
</html>


